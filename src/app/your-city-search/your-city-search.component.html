<div fxLayout="column" style="margin-bottom: 32px">
    <form style="margin-bottom: 32px" #searchForm>
        <mat-form-field appearance="outline" [ngClass]="search.value ? 'search-box-partial' : 'search-box-full'">
            <mat-label>City Name or Postal Code</mat-label>
            <mat-icon matPrefix>search</mat-icon>
            <input matInput aria-label="City or Zip" [formControl]="search" />
            <mat-hint>Specify country code like 'Paris, US'</mat-hint>
            <mat-error *ngIf="search.invalid">
                {{getErrorMessage()}}
            </mat-error>
        </mat-form-field>
        <button mat-icon-button *ngIf="search.value" class="clear-button" (click)="searchForm.reset(); search.reset();">
            <mat-icon>close</mat-icon>
        </button>
    </form>
    <div class="center">
        <mat-slide-toggle color="accent" [(ngModel)]="useNgRx" (ngModelChange)="doSearch(search.value)"
            [ngModelOptions]="{standalone: true}">
            {{useNgRx ? 'Using NgRX' : 'Using BehaviorSubject'}}
        </mat-slide-toggle>
    </div>
</div>